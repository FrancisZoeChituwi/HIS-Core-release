(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4381"],{"0605":function(e,t,n){"use strict";n.r(t);var r=n("7a23");function a(e,t,n,a,o,c){var i=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(i,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}n("4160"),n("b0c0"),n("159b"),n("96cf");var o=n("1da1"),c=n("d95e"),i=n("7920"),s=n("2706"),u=n("7365"),d=n("d4ec"),p=n("262e"),f=n("2caf"),l=n("cc6f"),m=function(e){Object(p["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){return Object(d["a"])(this,n),t.call(this,e,182,r)}return n}(l["a"]),b=n("b5e4"),h=n("ad60"),w=Object(r["defineComponent"])({mixins:[u["a"]],components:{HisStandardForm:i["a"]},data:function(){return{reception:{}}},watch:{patient:{handler:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.reception=new m(e.patientID,e.providerID),e.fields=e.getFields();case 2:case"end":return t.stop()}}),t)})))()},deep:!0}},methods:{onFinish:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,i,s,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.reception.createEncounter();case 2:if(r=n.sent,r){n.next=5;break}return n.abrupt("return",Object(b["e"])("Unable to create encounter"));case 5:return a=h["a"].getProgramID(),n.next=8,h["a"].getProgramWorkflows(h["a"].getProgramID());case 8:return o=n.sent,c={},o.forEach((function(e){e.states.forEach((function(e){var t=e.program_workflow_state_id,n=e.concept.concept_names[0].name;c[n]=t}))})),i={location_id:h["a"].getLocationName(),state:c["Continue follow-up"],date:h["a"].getSessionDate()},n.next=14,h["a"].createState(t.patientID,a,i);case 14:if(s=n.sent,s){n.next=17;break}return n.abrupt("return",Object(b["e"])("Unable to update state"));case 17:return u=e["referral_outcome"],n.next=20,t.reception.buildValueCoded("Cancer treatment procedure",u.value);case 20:return d=n.sent,n.next=23,t.reception.saveObs(d);case 23:n.sent,Object(b["d"])("Observations and encounter created!"),t.nextTask();case 26:case"end":return n.stop()}}),n)})))()},getFields:function(){var e=this;return[{id:"referral_outcome",helpText:"Treatment performed",type:c["b"].TT_SELECT,validation:function(e){return s["a"].required(e)},options:function(){return e.mapOptions(["Cryotherapy","Leep","Thermocoagulation","Other"])}}]}}}),v=n("d959"),g=n.n(v);const O=g()(w,[["render",a]]);t["default"]=O}}]);
//# sourceMappingURL=chunk-2d0a4381.066a673c.js.map