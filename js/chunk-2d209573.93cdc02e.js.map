{"version":3,"sources":["webpack:///./src/apps/OPD/views/encounters/SocialHistory.vue?d08d","webpack:///./src/apps/OPD/views/encounters/SocialHistory.vue","webpack:///./src/apps/OPD/views/encounters/SocialHistory.vue?682f"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","cancelDestinationPath","cancelDestination","fields","onFinishAction","onSubmit","components","HisStandardForm","mixins","EncounterMixin","data","socialService","watch","ready","handler","isReady","patient","getID","providerID","getFields","immediate","deep","methods","_","computedData","createEncounter","encounter","resolveObs","registrationData","saveObservationList","registrationObs","nextTask","id","helpText","type","TT_MULTIPLE_YES_NO","validation","validateSeries","required","anyEmpty","computedValue","options","obs","map","option","buildValueCoded","label","value","summaryMapValue","other","values","yesNoOptions","TT_SELECT","buildValueText","__exports__"],"mappings":"uIAEM,SAAUA,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,IAAMC,EAA+B,8BAAkB,qBAEvD,OAAQ,yBAAc,yBAAaA,EAA8B,CAC/DC,sBAAuBP,EAAKQ,kBAC5BC,OAAQT,EAAKS,OACbC,eAAgBV,EAAKW,UACpB,KAAM,EAAG,CAAC,wBAAyB,SAAU,mB,0HCCnC,+BAAgB,CAC7BC,WAAY,CAAEC,gBAAA,QACdC,OAAQ,CAACC,EAAA,MACTC,KAAM,iBAAO,CACXC,cAAe,KAEjBC,MAAO,CACLC,MAAO,CACCC,QADD,SACSC,GAAgB,wJACzBA,IACD,EAAKJ,cAAgB,IAAI,OAAqB,EAAKK,QAAQC,QAAS,EAAKC,YACzE,EAAKf,OAAS,EAAKgB,aAHO,8CAM9BC,WAAW,EACXC,MAAM,IAGVC,QAAS,CACDjB,SADC,SACQkB,EAAQC,GAAiB,kLACd,EAAKb,cAAcc,kBADL,UAChCC,EADgC,OAEjCA,EAFiC,yCAEf,eAAa,8CAFE,uBAIP,EAAKC,WAAL,kBAAoBH,IAJb,cAIhCI,EAJgC,iBAKR,EAAKjB,cAAckB,oBAAoBD,GAL/B,WAKhCE,EALgC,OAMjCA,EANiC,0CAMT,eAAa,gCANJ,QAQtC,EAAKC,WARiC,+CAUxCZ,UAXO,WAWE,WACP,MAAO,CACL,CACEa,GAAI,oBACJC,SAAU,oBACVC,KAAM,OAAUC,mBAChBC,WAAY,SAAC1B,GAAD,OAAe,EAAK2B,eAAe,CAC7C,kBAAM,OAAWC,SAAS5B,IAC1B,kBAAM,OAAW6B,SAAS7B,OAE5B8B,cAAe,SAACC,GAAD,MAAwB,CACrCC,IAAKD,EAAQE,KAAI,SAAAC,GAAM,OAAI,EAAKjC,cAAckC,gBAC5CD,EAAOE,MACPF,EAAOG,YAGXC,gBAAiB,SAACJ,GAAD,MAAqB,CACpCE,MAAOF,EAAOE,MACdC,MAAOH,EAAOG,QAEhBN,QAAS,iBAAM,CACb,CACEK,MAAO,iBACPC,MAAO,GACPE,MAAO,CACLC,OAAQ,EAAKC,iBAGjB,CACEL,MAAO,yBACPC,MAAO,GACPE,MAAO,CACLC,OAAQ,EAAKC,oBAKrB,CACEnB,GAAI,iBACJC,SAAU,iBACVC,KAAM,OAAUkB,UAChBhB,WAAY,SAACW,GAAD,OAAgB,OAAWT,SAASS,IAChDP,cAAe,gBAAGO,EAAH,EAAGA,MAAH,MAAwB,CACrCL,IAAK,EAAK/B,cAAc0C,eAAe,iBAAkBN,KAE3DN,QAAS,iBAAM,CACb,CAAEK,MAAO,SAAUC,MAAO,UAC1B,CAAED,MAAO,UAAWC,MAAO,WAC3B,CAAED,MAAO,UAAWC,MAAO,WAC3B,CAAED,MAAO,YAAaC,MAAO,aAC7B,CAAED,MAAO,UAAWC,MAAO,WAC3B,CAAED,MAAO,QAASC,MAAO,YAG7B,CACEf,GAAI,WACJC,SAAU,WACVC,KAAM,OAAUkB,UAChBhB,WAAY,SAACW,GAAD,OAAgB,OAAWT,SAASS,IAChDP,cAAe,gBAAGO,EAAH,EAAGA,MAAH,MAAwB,CACrCL,IAAK,EAAK/B,cAAc0C,eAAe,WAAYN,KAErDN,QAAS,iBAAO,CACd,CAAEK,MAAO,WAAYC,MAAO,YAC5B,CAAED,MAAO,OAAQC,MAAO,QACxB,CAAED,MAAO,MAAOC,MAAO,OACvB,CAAED,MAAO,YAAaC,MAAO,aAC7B,CAAED,MAAO,SAAUC,MAAO,UAC1B,CAAED,MAAO,iBAAkBC,MAAO,kBAClC,CAAED,MAAO,kBAAmBC,MAAO,mBACnC,CAAED,MAAO,QAASC,MAAO,iB,qBCxGrC,MAAMO,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS7D,KAErD","file":"js/chunk-2d209573.93cdc02e.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n\n  return (_openBlock(), _createBlock(_component_his_standard_form, {\n    cancelDestinationPath: _ctx.cancelDestination,\n    fields: _ctx.fields,\n    onFinishAction: _ctx.onSubmit\n  }, null, 8, [\"cancelDestinationPath\", \"fields\", \"onFinishAction\"]))\n}","\r\nimport { defineComponent} from 'vue'\r\nimport HisStandardForm from \"@/components/Forms/TouchScreenForm.vue\";\r\nimport EncounterMixinVue from '@/views/EncounterMixin.vue';\r\nimport Validation from '@/components/Forms/validations/StandardValidations';\r\nimport { Field, Option } from '@/components/Forms/FieldInterface';\r\nimport { FieldType } from '@/components/Forms/BaseFormElements';\r\nimport { toastWarning } from '@/utils/Alerts';\r\nimport { SocialHistoryService } from '@/apps/ART/services/social_history_service';\r\n\r\nexport default defineComponent({\r\n  components: { HisStandardForm },\r\n  mixins: [EncounterMixinVue],\r\n  data: () => ({\r\n    socialService: {} as any\r\n  }),\r\n  watch: {\r\n    ready: {\r\n      async handler(isReady: boolean) {\r\n        if(isReady){\r\n          this.socialService = new SocialHistoryService(this.patient.getID(), this.providerID)\r\n          this.fields = this.getFields()\r\n        }\r\n      },\r\n      immediate: true,\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    async onSubmit(_: any, computedData: any){\r\n      const encounter = await this.socialService.createEncounter()\r\n      if (!encounter) return toastWarning('Unable to create social history encounter')\r\n      \r\n      const registrationData = await this.resolveObs({...computedData})\r\n      const registrationObs = await this.socialService.saveObservationList(registrationData)\r\n      if (!registrationObs) return toastWarning('Unable to save observations')\r\n\r\n      this.nextTask()        \r\n    },\r\n    getFields(): Array<Field>{\r\n      return [\r\n        {\r\n          id: \"social_acitivites\",\r\n          helpText: `Social Activities`,\r\n          type: FieldType.TT_MULTIPLE_YES_NO,\r\n          validation: (data: any) => this.validateSeries([\r\n            () => Validation.required(data), \r\n            () => Validation.anyEmpty(data)\r\n          ]),\r\n          computedValue: (options: Option[]) => ({\r\n            obs: options.map(option => this.socialService.buildValueCoded(\r\n              option.label,\r\n              option.value\r\n            ))                     \r\n          }),\r\n          summaryMapValue: (option: Option) => ({\r\n            label: option.label,\r\n            value: option.value\r\n          }),\r\n          options: () => [\r\n            {\r\n              label: \"Patient smokes\",\r\n              value: \"\",\r\n              other: {\r\n                values: this.yesNoOptions(),\r\n              },\r\n            },\r\n            {\r\n              label: \"Patient drinks alcohol\",\r\n              value: \"\",\r\n              other: {\r\n                values: this.yesNoOptions(),\r\n              },\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          id: 'marital_status',\r\n          helpText: 'Marital Status',\r\n          type: FieldType.TT_SELECT,\r\n          validation: (value: any) => Validation.required(value),\r\n          computedValue: ({ value }: Option) => ({\r\n            obs: this.socialService.buildValueText('Marital status', value)\r\n          }),\r\n          options: () => [\r\n            { label: \"Single\", value: \"Single\" },\r\n            { label: \"Engaged\", value: \"Engaged\" },\r\n            { label: \"Married\", value: \"Married\" },\r\n            { label: \"Separated\", value: \"Separated\" },\r\n            { label: \"Widowed\", value: \"Widowed\" },\r\n            { label: \"Other\", value: \"Other\" },\r\n          ],\r\n        },\r\n        {\r\n          id: 'religion',\r\n          helpText: 'Religion',\r\n          type: FieldType.TT_SELECT,\r\n          validation: (value: any) => Validation.required(value),\r\n          computedValue: ({ value }: Option) => ({\r\n            obs: this.socialService.buildValueText('Religion', value)\r\n          }),\r\n          options: () => ([\r\n            { label: 'Catholic', value: 'Catholic' },\r\n            { label: 'CCAP', value: 'CCAP' },\r\n            { label: 'SDA', value: 'SDA' },\r\n            { label: 'Angelican', value: 'Angelican' },\r\n            { label: 'Muslim', value: 'Muslim' },\r\n            { label: 'Pentecostalism', value: 'Pentecostalism' },\r\n            { label: 'Jehovah witness', value: 'Jehovah witness' },\r\n            { label: 'Other', value: 'Other' },\r\n          ])\r\n        },\r\n      ]\r\n    }\r\n  }\r\n})\r\n","import { render } from \"./SocialHistory.vue?vue&type=template&id=f1e005e0&ts=true\"\nimport script from \"./SocialHistory.vue?vue&type=script&lang=ts\"\nexport * from \"./SocialHistory.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Users\\\\msuleman\\\\projects\\\\HIS-Core\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}