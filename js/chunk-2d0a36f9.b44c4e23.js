(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a36f9"],{"01bd":function(e,t,n){"use strict";n.r(t);var a=n("7a23");function r(e,t,n,r,c,o){var i=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}n("4160"),n("b0c0"),n("ac1f"),n("466d"),n("159b");var c=n("9ab4"),o=n("d95e"),i=n("7920"),s=n("2706"),u=n("7365"),l=n("b5e4"),d=n("ad60"),f=n("cc6f"),h=function(e){function t(t,n){return e.call(this,t,184,n)||this}return Object(c["c"])(t,e),t}(f["a"]),b=Object(a["defineComponent"])({mixins:[u["a"]],components:{HisStandardForm:i["a"]},data:function(){return{outcome:{}}},watch:{patient:{handler:function(){return Object(c["b"])(this,void 0,void 0,(function(){return Object(c["d"])(this,(function(e){return this.outcome=new h(this.patientID,this.providerID),this.fields=this.getFields(),[2]}))}))},deep:!0}},methods:{onFinish:function(e){return Object(c["b"])(this,void 0,void 0,(function(){var t,n,a,r,o,i,s,u,f,h,b,m;return Object(c["d"])(this,(function(c){switch(c.label){case 0:return[4,this.outcome.createEncounter()];case 1:return t=c.sent(),t?(n=d["a"].getProgramID(),[4,d["a"].getProgramWorkflows(d["a"].getProgramID())]):[2,Object(l["e"])("Unable to create encounter")];case 2:return a=c.sent(),r=e.select_referral_outcome.value,o={},a.forEach((function(e){e.states.forEach((function(e){var t=e.program_workflow_state_id,n=e.concept.concept_names[0].name;o[n]=t}))})),i={location_id:d["a"].getLocationName(),state:o[r],date:d["a"].getSessionDate()},[4,d["a"].createState(this.patientID,n,i)];case 3:return s=c.sent(),s?(u=e.select_referral_outcome.value,f=e.select_cancer_treatment.value,[4,this.outcome.buildValueCoded("Outcome",u)]):[2,Object(l["e"])("Unable to update state")];case 4:return h=c.sent(),b=[h],f.match(/cancer/)?[4,this.outcome.buildValueCoded("Cancer treatment",f)]:[3,6];case 5:m=c.sent(),b.push(m),c.label=6;case 6:return[4,this.outcome.saveObservationList(b)];case 7:return c.sent(),Object(l["d"])("Observations and encounter created!"),this.nextTask(),[2]}}))}))},getFields:function(){return[{id:"select_referral_outcome",helpText:"Referral outcome",type:o["b"].TT_SELECT,validation:function(e){return s["a"].required(e)},options:function(){return[{label:"Cancer of cervix",value:"Cancer of cervix"},{label:"Continue follow-up",value:"Continue follow-up"},{label:"Discharged uninfected",value:"Discharged uninfected"},{label:"Treatment complete",value:"Treatment complete"}]}},{id:"select_cancer_treatment",helpText:"Select cancer treatment",type:o["b"].TT_SELECT,validation:function(e){return s["a"].required(e)},options:function(){return[{label:"Surgery",value:"Surgery"},{label:"Palliative Care",value:"Palliative Care"},{label:"Discharged",value:"Discharged"},{label:"Other",value:"Other"}]}}]}}}),m=n("d959"),v=n.n(m);const p=v()(b,[["render",r]]);t["default"]=p}}]);
//# sourceMappingURL=chunk-2d0a36f9.b44c4e23.js.map