{"version":3,"sources":["webpack:///./src/apps/OPD/views/encounters/SocialHistory.vue?d08d","webpack:///./src/apps/OPD/views/encounters/SocialHistory.vue","webpack:///./src/apps/OPD/views/encounters/SocialHistory.vue?682f"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","cancelDestinationPath","cancelDestination","fields","onFinishAction","onSubmit","components","HisStandardForm","mixins","EncounterMixin","data","socialService","watch","ready","handler","isReady","this","patient","getID","providerID","getFields","immediate","deep","methods","_","computedData","createEncounter","encounter","resolveObs","registrationData","saveObservationList","registrationObs","nextTask","id","helpText","type","TT_MULTIPLE_YES_NO","validation","validateSeries","required","anyEmpty","computedValue","options","obs","map","option","buildValueCoded","label","summaryMapValue","value","other","values","yesNoOptions","TT_SELECT","buildValueText","__exports__"],"mappings":"uIAEM,SAAUA,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,IAAMC,EAA+B,8BAAkB,qBAEvD,OAAQ,yBAAc,yBAAaA,EAA8B,CAC/DC,sBAAuBP,EAAKQ,kBAC5BC,OAAQT,EAAKS,OACbC,eAAgBV,EAAKW,UACpB,KAAM,EAAG,CAAC,wBAAyB,SAAU,mB,kGCCnC,+BAAgB,CAC7BC,WAAY,CAAEC,gBAAe,QAC7BC,OAAQ,CAACC,EAAA,MACTC,KAAM,WAAM,MAAC,CACXC,cAAe,KAEjBC,MAAO,CACLC,MAAO,CACCC,QAAN,SAAcC,G,oGACTA,IACDC,KAAKL,cAAgB,IAAI,OAAqBK,KAAKC,QAAQC,QAASF,KAAKG,YACzEH,KAAKb,OAASa,KAAKI,a,WAGvBC,WAAW,EACXC,MAAM,IAGVC,QAAS,CACDlB,SAAN,SAAemB,EAAQC,G,8HACH,SAAMT,KAAKL,cAAce,mB,OAC3C,OADMC,EAAY,SACbA,EAEoB,GAAMX,KAAKY,WAAU,kBAAKH,KAF5B,CAAP,EAAO,eAAa,8C,OAGZ,OADlBI,EAAmB,SACD,GAAMb,KAAKL,cAAcmB,oBAAoBD,I,OACrE,OADME,EAAkB,SACnBA,GAELf,KAAKgB,W,KAFwB,CAAP,EAAO,eAAa,wCAI5CZ,UAAA,sBACE,MAAO,CACL,CACEa,GAAI,oBACJC,SAAU,oBACVC,KAAM,OAAUC,mBAChBC,WAAY,SAAC3B,GAAc,SAAK4B,eAAe,CAC7C,WAAM,cAAWC,SAAX,IACN,WAAM,cAAWC,SAAX,OAERC,cAAe,SAACC,GAAsB,MAAC,CACrCC,IAAKD,EAAQE,KAAI,SAAAC,GAAU,SAAKlC,cAAcmC,gBAC5CD,EAAOE,MACPF,EAFyB,YAK7BG,gBAAiB,SAACH,GAAmB,MAAC,CACpCE,MAAOF,EAAOE,MACdE,MAAOJ,EAAOI,QAEhBP,QAAS,WAAM,OACb,CACEK,MAAO,iBACPE,MAAO,GACPC,MAAO,CACLC,OAAQ,EAAKC,iBAGjB,CACEL,MAAO,yBACPE,MAAO,GACPC,MAAO,CACLC,OAAQ,EAAKC,oBAKrB,CACEnB,GAAI,iBACJC,SAAU,iBACVC,KAAM,OAAUkB,UAChBhB,WAAY,SAACY,GAAe,cAAWV,SAAX,IAC5BE,cAAe,SAAC,G,IAAEQ,EAAK,QAAe,MAAC,CACrCN,IAAK,EAAKhC,cAAc2C,eAAe,iBAAkBL,KAE3DP,QAAS,WAAM,OACb,CAAEK,MAAO,SAAUE,MAAO,UAC1B,CAAEF,MAAO,UAAWE,MAAO,WAC3B,CAAEF,MAAO,UAAWE,MAAO,WAC3B,CAAEF,MAAO,YAAaE,MAAO,aAC7B,CAAEF,MAAO,UAAWE,MAAO,WAC3B,CAAEF,MAAO,QAASE,MAAO,YAG7B,CACEhB,GAAI,WACJC,SAAU,WACVC,KAAM,OAAUkB,UAChBhB,WAAY,SAACY,GAAe,cAAWV,SAAX,IAC5BE,cAAe,SAAC,G,IAAEQ,EAAK,QAAe,MAAC,CACrCN,IAAK,EAAKhC,cAAc2C,eAAe,WAAYL,KAErDP,QAAS,WAAM,MAAC,CACd,CAAEK,MAAO,WAAYE,MAAO,YAC5B,CAAEF,MAAO,OAAQE,MAAO,QACxB,CAAEF,MAAO,MAAOE,MAAO,OACvB,CAAEF,MAAO,YAAaE,MAAO,aAC7B,CAAEF,MAAO,SAAUE,MAAO,UAC1B,CAAEF,MAAO,iBAAkBE,MAAO,kBAClC,CAAEF,MAAO,kBAAmBE,MAAO,mBACnC,CAAEF,MAAO,QAASE,MAAO,iB,qBCxGrC,MAAMM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS9D,KAErD","file":"js/chunk-2d209573.ae0fce95.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n\n  return (_openBlock(), _createBlock(_component_his_standard_form, {\n    cancelDestinationPath: _ctx.cancelDestination,\n    fields: _ctx.fields,\n    onFinishAction: _ctx.onSubmit\n  }, null, 8, [\"cancelDestinationPath\", \"fields\", \"onFinishAction\"]))\n}","\nimport { defineComponent} from 'vue'\nimport HisStandardForm from \"@/components/Forms/TouchScreenForm.vue\";\nimport EncounterMixinVue from '@/views/EncounterMixin.vue';\nimport Validation from '@/components/Forms/validations/StandardValidations';\nimport { Field, Option } from '@/components/Forms/FieldInterface';\nimport { FieldType } from '@/components/Forms/BaseFormElements';\nimport { toastWarning } from '@/utils/Alerts';\nimport { SocialHistoryService } from '@/apps/ART/services/social_history_service';\n\nexport default defineComponent({\n  components: { HisStandardForm },\n  mixins: [EncounterMixinVue],\n  data: () => ({\n    socialService: {} as any\n  }),\n  watch: {\n    ready: {\n      async handler(isReady: boolean) {\n        if(isReady){\n          this.socialService = new SocialHistoryService(this.patient.getID(), this.providerID)\n          this.fields = this.getFields()\n        }\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  methods: {\n    async onSubmit(_: any, computedData: any){\n      const encounter = await this.socialService.createEncounter()\n      if (!encounter) return toastWarning('Unable to create social history encounter')\n      \n      const registrationData = await this.resolveObs({...computedData})\n      const registrationObs = await this.socialService.saveObservationList(registrationData)\n      if (!registrationObs) return toastWarning('Unable to save observations')\n\n      this.nextTask()        \n    },\n    getFields(): Array<Field>{\n      return [\n        {\n          id: \"social_acitivites\",\n          helpText: `Social Activities`,\n          type: FieldType.TT_MULTIPLE_YES_NO,\n          validation: (data: any) => this.validateSeries([\n            () => Validation.required(data), \n            () => Validation.anyEmpty(data)\n          ]),\n          computedValue: (options: Option[]) => ({\n            obs: options.map(option => this.socialService.buildValueCoded(\n              option.label,\n              option.value\n            ))                     \n          }),\n          summaryMapValue: (option: Option) => ({\n            label: option.label,\n            value: option.value\n          }),\n          options: () => [\n            {\n              label: \"Patient smokes\",\n              value: \"\",\n              other: {\n                values: this.yesNoOptions(),\n              },\n            },\n            {\n              label: \"Patient drinks alcohol\",\n              value: \"\",\n              other: {\n                values: this.yesNoOptions(),\n              },\n            },\n          ],\n        },\n        {\n          id: 'marital_status',\n          helpText: 'Marital Status',\n          type: FieldType.TT_SELECT,\n          validation: (value: any) => Validation.required(value),\n          computedValue: ({ value }: Option) => ({\n            obs: this.socialService.buildValueText('Marital status', value)\n          }),\n          options: () => [\n            { label: \"Single\", value: \"Single\" },\n            { label: \"Engaged\", value: \"Engaged\" },\n            { label: \"Married\", value: \"Married\" },\n            { label: \"Separated\", value: \"Separated\" },\n            { label: \"Widowed\", value: \"Widowed\" },\n            { label: \"Other\", value: \"Other\" },\n          ],\n        },\n        {\n          id: 'religion',\n          helpText: 'Religion',\n          type: FieldType.TT_SELECT,\n          validation: (value: any) => Validation.required(value),\n          computedValue: ({ value }: Option) => ({\n            obs: this.socialService.buildValueText('Religion', value)\n          }),\n          options: () => ([\n            { label: 'Catholic', value: 'Catholic' },\n            { label: 'CCAP', value: 'CCAP' },\n            { label: 'SDA', value: 'SDA' },\n            { label: 'Angelican', value: 'Angelican' },\n            { label: 'Muslim', value: 'Muslim' },\n            { label: 'Pentecostalism', value: 'Pentecostalism' },\n            { label: 'Jehovah witness', value: 'Jehovah witness' },\n            { label: 'Other', value: 'Other' },\n          ])\n        },\n      ]\n    }\n  }\n})\n","import { render } from \"./SocialHistory.vue?vue&type=template&id=f1e005e0&ts=true\"\nimport script from \"./SocialHistory.vue?vue&type=script&lang=ts\"\nexport * from \"./SocialHistory.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}