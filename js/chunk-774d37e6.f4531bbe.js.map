{"version":3,"sources":["webpack:///./src/apps/OPD/views/encounters/Complaints.vue?be60","webpack:///./src/apps/OPD/views/encounters/Complaints.vue","webpack:///./src/apps/OPD/views/encounters/Complaints.vue?e7d2"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","_component_ion_page","default","cancelDestinationPath","cancelDestination","fields","onFinishAction","onSubmit","_","components","HisStandardForm","IonPage","mixins","EncounterMixin","data","complaintsService","watch","ready","handler","isReady","patientID","providerID","getFields","immediate","deep","methods","computedData","Promise","all","complaints","createEncounter","saveObservationList","nextTask","launchOrderSelection","create","component","LabOrderModal","backdropDismiss","cssClass","modal","present","onDidDismiss","id","helpText","type","TT_COMPLAINTS_PICKER","validation","required","computedValue","options","map","option","buildValueCoded","other","parent","buildValueCodedFromConceptId","concept_id","child","config","footerBtns","name","size","slot","color","visible","onClick","visibleOnStateChange","state","index","__exports__"],"mappings":"wIAEM,SAAUA,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,IAAMC,EAA+B,8BAAkB,qBACjDC,EAAsB,8BAAkB,YAE9C,OAAQ,yBAAc,yBAAaA,EAAqB,KAAM,CAC5DC,QAAS,sBAAS,iBAAM,CACtB,yBAAaF,EAA8B,CACzCG,sBAAuBT,EAAKU,kBAC5BC,OAAQX,EAAKW,OACbC,eAAgBZ,EAAKa,UACpB,KAAM,EAAG,CAAC,wBAAyB,SAAU,uBAElDC,EAAG,I,oKCHQ,+BAAgB,CAC7BC,WAAY,CAAEC,gBAAA,OAAiBC,QAAA,QAC/BC,OAAQ,CAACC,EAAA,MACTC,KAAM,iBAAO,CACXC,kBAAmB,KAErBC,MAAO,CACLC,MAAO,CACCC,QADD,SACSC,GAAgB,wJACzBA,IACD,EAAKJ,kBAAoB,IAAI,OAAyB,EAAKK,UAAW,EAAKC,YAC3E,EAAKhB,OAAS,EAAKiB,aAHO,8CAM9BC,WAAW,EACXC,MAAM,IAGVC,QAAS,CACDlB,SADC,SACQC,EAAQkB,GAAiB,8KACnBC,QAAQC,IAAIF,EAAaG,YADN,cAChCf,EADgC,gBAEhC,EAAKC,kBAAkBe,kBAFS,uBAGhC,EAAKf,kBAAkBgB,oBAAoBjB,GAHX,OAItC,EAAKkB,WAJiC,8CAMlCC,qBAPC,WAOmB,mKACJ,OAAgBC,OAAO,CACzCC,UAAWC,EAAA,KACXC,iBAAiB,EACjBC,SAAU,gBAJY,cAClBC,EADkB,OAMxBA,EAAMC,UANkB,SAOlBD,EAAME,eAPY,8CAS1BnB,UAhBO,WAgBE,WACP,MAAO,CACL,CACEoB,GAAI,aACJC,SAAU,wBACVC,KAAM,OAAUC,qBAChBC,WAAY,SAAChC,GAAD,OAAe,OAAWiC,SAASjC,IAC/CkC,cAAe,SAACC,GACd,OAAOA,EAAQC,IAAR,yDAAY,WAAOC,GAAP,iIACP,EAAKpC,kBAAkBqC,gBAAgB,uBAAwBD,EAAOE,MAAMC,QADrE,qEAEH,EAAKvC,kBAAkBwC,6BAA6BJ,EAAOE,MAAMC,OAAQH,EAAOE,MAAMG,YAFnF,iCAEjBC,MAFiB,8FAAZ,wDAKTC,OAAQ,CACNC,WAAY,CACV,CACEC,KAAM,YACNC,KAAM,QACNC,KAAM,MACNC,MAAO,UACPC,SAAS,EACTC,QAAS,WAAF,8CAAE,8GAAkB,EAAKhC,uBAAvB,mFAAF,qDAAE,GACTiC,qBAAsB,SAACC,GACrB,OAAuB,IAAhBA,EAAMC,gB,qBC/D/B,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS5E,KAErD","file":"js/chunk-774d37e6.f4531bbe.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_his_standard_form, {\n        cancelDestinationPath: _ctx.cancelDestination,\n        fields: _ctx.fields,\n        onFinishAction: _ctx.onSubmit\n      }, null, 8, [\"cancelDestinationPath\", \"fields\", \"onFinishAction\"])\n    ]),\n    _: 1\n  }))\n}","\nimport { defineComponent } from 'vue'\nimport HisStandardForm from \"@/components/Forms/TouchScreenForm.vue\";\nimport EncounterMixinVue from '@/views/EncounterMixin.vue';\nimport { PatientComplaintsService } from \"@/apps/OPD/services/patient_complaints_service\";\nimport LabOrderModal from \"@/components/DataViews/LabOrderModal.vue\"\nimport Validation from '@/components/Forms/validations/StandardValidations';\nimport { Field, Option } from '@/components/Forms/FieldInterface';\nimport { FieldType } from '@/components/Forms/BaseFormElements';\nimport { modalController, IonPage } from '@ionic/vue';\n\nexport default defineComponent({\n  components: { HisStandardForm, IonPage },\n  mixins: [EncounterMixinVue],\n  data: () => ({\n    complaintsService: {} as any,\n  }),\n  watch: {\n    ready: {\n      async handler(isReady: boolean) {\n        if(isReady){\n          this.complaintsService = new PatientComplaintsService(this.patientID, this.providerID)\n          this.fields = this.getFields()\n        }\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  methods: {\n    async onSubmit(_: any, computedData: any){     \n      const data = await Promise.all(computedData.complaints)   \n      await this.complaintsService.createEncounter()    \n      await this.complaintsService.saveObservationList(data)\n      this.nextTask()        \n    },\n    async launchOrderSelection() {\n      const modal = await modalController.create({\n        component: LabOrderModal,\n        backdropDismiss: false,\n        cssClass: 'large-modal'\n      })\n      modal.present()\n      await modal.onDidDismiss()\n    },\n    getFields(): Array<Field>{\n      return [\n        {\n          id: 'complaints',\n          helpText: 'Presenting Complaints',\n          type: FieldType.TT_COMPLAINTS_PICKER,\n          validation: (data: any) => Validation.required(data),\n          computedValue: (options: Option[]) => {\n            return options.map(async (option)=> ({\n              ...(await this.complaintsService.buildValueCoded('Presenting complaint', option.other.parent)),\n              child: (await this.complaintsService.buildValueCodedFromConceptId(option.other.parent, option.other.concept_id))\n            }))\n          },\n          config: {\n            footerBtns: [\n              {\n                name: \"Lab Order\",\n                size: \"large\",\n                slot: \"end\",\n                color: \"primary\",\n                visible: true,\n                onClick: async () => await this.launchOrderSelection(),\n                visibleOnStateChange: (state: Record<string, any>) => {\n                  return state.index === 1;\n                },\n              },\n            ],\n          }\n        },\n      ]\n    }\n  }\n})\n","import { render } from \"./Complaints.vue?vue&type=template&id=59f61e79&ts=true\"\nimport script from \"./Complaints.vue?vue&type=script&lang=ts\"\nexport * from \"./Complaints.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}