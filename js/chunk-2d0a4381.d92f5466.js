(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4381"],{"0605":function(e,t,n){"use strict";n.r(t);var r=n("7a23");function a(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}n("4160"),n("b0c0"),n("159b");var o=n("9ab4"),i=n("d95e"),c=n("7920"),s=n("2706"),u=n("7365"),d=n("cc6f"),h=function(e){function t(t,n){return e.call(this,t,182,n)||this}return Object(o["c"])(t,e),t}(d["a"]),l=n("b5e4"),p=n("ad60"),f=Object(r["defineComponent"])({mixins:[u["a"]],components:{HisStandardForm:c["a"]},data:function(){return{reception:{}}},watch:{patient:{handler:function(){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){return this.reception=new h(this.patientID,this.providerID),this.fields=this.getFields(),[2]}))}))},deep:!0}},methods:{onFinish:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,a,i,c,s,u;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return[4,this.reception.createEncounter()];case 1:return t=o.sent(),t?(n=p["a"].getProgramID(),[4,p["a"].getProgramWorkflows(p["a"].getProgramID())]):[2,Object(l["e"])("Unable to create encounter")];case 2:return r=o.sent(),a={},r.forEach((function(e){e.states.forEach((function(e){var t=e.program_workflow_state_id,n=e.concept.concept_names[0].name;a[n]=t}))})),i={location_id:p["a"].getLocationName(),state:a["Continue follow-up"],date:p["a"].getSessionDate()},[4,p["a"].createState(this.patientID,n,i)];case 3:return c=o.sent(),c?(s=e["referral_outcome"],[4,this.reception.buildValueCoded("Cancer treatment procedure",s.value)]):[2,Object(l["e"])("Unable to update state")];case 4:return u=o.sent(),[4,this.reception.saveObs(u)];case 5:return o.sent(),Object(l["d"])("Observations and encounter created!"),this.nextTask(),[2]}}))}))},getFields:function(){var e=this;return[{id:"referral_outcome",helpText:"Treatment performed",type:i["b"].TT_SELECT,validation:function(e){return s["a"].required(e)},options:function(){return e.mapOptions(["Cryotherapy","Leep","Thermocoagulation","Other"])}}]}}}),b=n("d959"),m=n.n(b);const v=m()(f,[["render",a]]);t["default"]=v}}]);
//# sourceMappingURL=chunk-2d0a4381.d92f5466.js.map