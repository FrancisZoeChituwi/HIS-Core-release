{"version":3,"sources":["webpack:///./src/views/PrintDrug.vue?01c7","webpack:///./src/services/drug_service.ts","webpack:///./src/views/PrintDrug.vue","webpack:///./src/views/PrintDrug.vue?e755"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","skipSummary","fields","onOnFinish","onSubmit","params","components","HisStandardForm","data","created","id","helpText","type","TT_SELECT","validation","val","required","options","_","filter","getDrugs","name","facilities","map","facility","label","value","drug_id","config","showKeyboard","isFilterDataViaApi","TT_NUMBER","methods","form","printDrug","drug","quantity","$router","push","path","console","log","__exports__"],"mappings":"uIAEM,SAAUA,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,IAAMC,EAA+B,8BAAkB,qBAEvD,OAAQ,yBAAc,yBAAaA,EAA8B,CAC/DC,aAAa,EACbC,OAAQR,EAAKQ,OACbC,WAAYT,EAAKU,UAChB,KAAM,EAAG,CAAC,SAAU,e,8ICPZ,EAAb,wDACI,wDADJ,+DAMgE,IAA5CC,EAA4C,uDAArC,GACnB,kEAAqB,SAAUA,OAPvC,GAAiC,Q,oCCOlB,+BAAgB,CAC3BC,WAAY,CAAEC,kBAAA,MACdC,KAAM,iBAAO,CACTN,OAAQ,KAENO,QALqB,WAKd,wJACT,EAAKP,OAAS,CACV,CACIQ,GAAI,OACJC,SAAU,cACVC,KAAM,OAAUC,UAChBC,WAAY,SAACC,GAAD,OAAc,OAAWC,SAASD,IAC9CE,QAAS,WAAF,8CAAE,WAAOC,GAAP,4GAAUC,EAAV,+BAAiB,GAAjB,SACoB,EAAYC,SAAS,CAACC,KAAMF,IADhD,cACCG,EADD,yBAEEA,EAAWC,KAAI,SAACC,GAAD,MAAoB,CACtCC,MAAOD,EAASH,KAChBK,MAAOF,EAASG,aAJf,2CAAF,sDAAE,GAOTC,OAAQ,CACJC,cAAc,EACdC,oBAAoB,IAG5B,CACIpB,GAAI,WACJC,SAAU,iBACVC,KAAM,OAAUmB,UAChBjB,WAAY,SAACC,GAAD,OAAc,OAAWC,SAASD,IAC9Ca,OAAQ,CACJC,cAAc,KAzBjB,8CA8BbG,QAAS,CACC5B,SADD,SACU6B,GAAS,qKACdR,EAAQ,IAAI,OADE,kBAGVA,EAAMS,UAAUD,EAAKE,KAAKT,MAAOO,EAAKG,SAASV,OAHrC,OAIhB,EAAKW,QAAQC,KAAK,CAACC,KAAM,MAJT,mDAMhBC,QAAQC,IAAR,MANgB,+D,qBCxChC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASjD,KAErD","file":"js/chunk-2d228961.c7f8820e.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n\n  return (_openBlock(), _createBlock(_component_his_standard_form, {\n    skipSummary: true,\n    fields: _ctx.fields,\n    onOnFinish: _ctx.onSubmit\n  }, null, 8, [\"fields\", \"onOnFinish\"]))\n}","import { Service } from \"./service\";\r\n\r\nexport class DrugService extends Service {\r\n    constructor() {\r\n        super()\r\n    }\r\n\r\n    \r\n    static getDrugs(params={} as Record<string, string | number>) {\r\n        return super.getJson('/drugs', params)\r\n    }\r\n}","\r\nimport { defineComponent } from 'vue'\r\nimport HisStandardForm from \"@/components/Forms/HisStandardForm.vue\";\r\nimport {DrugService} from \"@/services/drug_service\"\r\nimport { FieldType } from \"@/components/Forms/BaseFormElements\"\r\nimport { Field } from \"@/components/Forms/FieldInterface\"\r\nimport Validation from \"@/components/Forms/validations/StandardValidations\"\r\nimport { PrintoutService} from \"@/services/printout_service\"\r\n\r\nexport default defineComponent({\r\n    components: { HisStandardForm },\r\n    data: () => ({\r\n        fields: [] as Array<Field>    \r\n    }),\r\n    async created(){\r\n        this.fields = [ \r\n            {\r\n                id: 'drug',\r\n                helpText: 'Select drug',\r\n                type: FieldType.TT_SELECT,\r\n                validation: (val: any) => Validation.required(val),\r\n                options: async (_, filter='') => {\r\n                    const facilities = await DrugService.getDrugs({name: filter})\r\n                    return facilities.map((facility: any) => ({\r\n                        label: facility.name,\r\n                        value: facility.drug_id\r\n                    }))\r\n                },\r\n                config: {\r\n                    showKeyboard: true,\r\n                    isFilterDataViaApi: true\r\n                }\r\n            },\r\n            {\r\n                id: 'quantity',\r\n                helpText: 'Input quantity',\r\n                type: FieldType.TT_NUMBER,\r\n                validation: (val: any) => Validation.required(val),\r\n                config: {\r\n                    showKeyboard: true,\r\n                }\r\n            }\r\n        ]\r\n    },\r\n    methods: {\r\n        async onSubmit(form: any) {\r\n            const label = new PrintoutService()\r\n            try {\r\n                await label.printDrug(form.drug.value, form.quantity.value)\r\n                this.$router.push({path: '/'})\r\n            }catch(e) { \r\n                console.log(e)\r\n            }\r\n        }\r\n    }\r\n})\r\n","import { render } from \"./PrintDrug.vue?vue&type=template&id=1dc9557a&ts=true\"\nimport script from \"./PrintDrug.vue?vue&type=script&lang=ts\"\nexport * from \"./PrintDrug.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Users\\\\msuleman\\\\projects\\\\HIS-Core\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}